# Hybrid Log Classification System

This project uses a hybrid log classification system with three methods to handle different types of log patterns. It ensures flexibility and accuracy in processing both simple and complex log data.

## Classification Approaches

### 1. Regular Expression (Regex)
- Handles the most simplified and predictable patterns.
- Useful for patterns that are easily captured using predefined rules.
- Provides a lightweight and efficient solution for straightforward log messages.

### 2. Sentence Transformer + Logistic Regression
- Manages complex patterns when there is sufficient training data.
- Utilizes embeddings generated by **Sentence Transformers** to represent log messages in a high-dimensional space.
- Applies **Logistic Regression** as the classification layer to predict labels based on the embeddings.

### 3. LLM (Large Language Models)
- Used for handling complex patterns when sufficient labeled training data is not available.
- Provides a fallback or complementary approach to the other methods.
- Leverages the power of pre-trained large language models to classify logs with minimal additional training.

## Project Structure

- **`regex_processor.py`**: Contains the implementation of the regex-based classification logic.
- **`bert_processor.py`**: Implements the Sentence Transformer + Logistic Regression classification approach.
- **`llm_processor.py`**: Handles classification using large language models.
- **`classify.py`**: The main script that integrates all three approaches and processes logs from a CSV file or a list of log messages.

## How It Works

1. **Input**: Logs are provided as a CSV file or a list of tuples containing the source and log message.
2. **Classification**:
   - If the log source is `LegacyCRM`, the LLM-based classifier is used.
   - For other sources, the regex-based classifier is applied first.
   - If the regex-based classifier cannot classify the log, the Sentence Transformer + Logistic Regression approach is used as a fallback.
3. **Output**: The classified logs are saved to a CSV file with the predicted labels.

## Usage

### Prerequisites
- Python 3.8 or higher
- Required Python libraries:
  - `pandas`
  - `sentence-transformers`
  - `joblib`
  - `regex`

Install the dependencies using:
```bash
pip install -r [requirements.txt](http://_vscodecontentref_/0)
```
Run the main script:
```
python classify.py
```
